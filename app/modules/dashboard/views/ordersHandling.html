<!--
Author: Ranjithprabhu K
Page Description: Dashboard page
Date: 05 Jan 2016
-->
<!-- Content Header (Page header) -->
<style>
    .button5 {border-radius: 80%;}

</style>
<section class="content-header">
    <h1>
        Messages
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">Messages</li>
    </ol>
</section>
<!-- Main content -->
<section class="content">

    <button type="button" class="btn btn-github btn-sm" ng-click="vm.ShowInbox()">Inbox</button>
    <button type="button" class="btn btn-github btn-sm" ng-click="vm.HideInbox()">Sent Messages</button>

    <button type="button"class="button button5 btn btn-info btn-sm- right-side" ng-show="vm.isAdmin" ng-click="vm.showAdvanced($event)">New Message</button>

    <button type="button" class="button button5 btn btn-info btn-sm- right-side" ng-show="!vm.isAdmin" ng-click="vm.showSendToAdmin($event)">Send Admin Message</button>
    <br>
    <bR>



    <!-- row  inbox -->
    <div class="row" ng-show="vm.ShowInboxRow">

        <ul class="col-md-12">
            <!-- The time line -->
            <ul class="timeline"   ng-repeat="msg in vm.messagesArray  | filter: vm.searchFilterInbox" >
                <li class="time-label">
                    <span class="bg-red-gradient">
                       {{msg.addedTime| date:'MM/dd/yyyy'}}
                    </span>
                </li>
                <li>
                    <i class="fa fa-suitcase bg-blue-gradient text-white"></i>
                    <div class="timeline-item">
                        <span class="time text-bold"> {{msg.isRead}}</span>
                        <h3 class="timeline-header"><a href="http://kmitsolutions.com" target="_blank">From: &nbsp; {{msg.senderName}}</a></h3>
                        <div class="timeline-body">

                                {{msg.content}}



                        </div>
                        <div class="timeline-footer">
                            <p>
                                <span class="label label"> </span>
                               <!-- <span class="label label-success">CSS 3</span>
                                <span class="label label-warning">Java Script</span>
                                <span class="label label-primary">Type Script</span>
                                <span class="label label-danger">jQuery</span>
                                <span class="label label-info">Angular JS</span>
                                <span class="label label-success">SAAS</span>-->
                                <span class="pull-right" >

                                    <a class="btn btn-success btn-xs"  ng-click="vm.changeStatus(msg,'unread')" ng-show="msg.isRead==false" >Make As Read</a>
                                     <a class="btn btn-warning btn-xs"ng-click="vm.changeStatus(msg,'read')" ng-show="msg.isRead==true" >Make As UnRead</a>

                                </span>
                            </p>
                        </div>
                    </div>

                </li>

            </ul>
            <ul  class="timeline" >
                <li>
                    <i class="fa fa-clock-o bg-gray"></i>
                </li>
            </ul>
            </ul>
    </div><!-- /.col -->
    </div>









    <!-- row  sent msg -->
    <div class="row" ng-show="!vm.ShowInboxRow">

        <ul class="col-md-12">
            <!-- The time line -->
            <ul class="timeline"   ng-repeat="msg in vm.messagesArray  | filter: vm.searchFilterMSG" >
                <li class="time-label">
                    <span class="bg-red-gradient">
                       {{msg.addedTime| date:'MM/dd/yyyy'}}
                    </span>
                </li>
                <li>
                    <i class="fa fa-suitcase bg-blue-gradient text-white"></i>
                    <div class="timeline-item">
                       <!-- <span class="time text-bold"> {{msg.isRead}}</span>-->
                        <h3 class="timeline-header"><a href="http://kmitsolutions.com" target="_blank">To: &nbsp; {{msg.receiverName}}</a></h3>
                        <div class="timeline-body">

                            {{msg.content}}



                        </div>
                        <div class="timeline-footer">
                            <p>
                                <span class="label label"> </span>
                                <!-- <span class="label label-success">CSS 3</span>
                                 <span class="label label-warning">Java Script</span>
                                 <span class="label label-primary">Type Script</span>
                                 <span class="label label-danger">jQuery</span>
                                 <span class="label label-info">Angular JS</span>
                                 <span class="label label-success">SAAS</span>-->
                             <!--   <span class="pull-right" ng-show=" vm.searchFilter.receiverUser==vm.userID">

                                    <a class="btn btn-success btn-xs"  ng-click="vm.changeStatus(msg,'unread')" ng-show="msg.isRead==false" >Make As Read</a>
                                     <a class="btn btn-warning btn-xs"ng-click="vm.changeStatus(msg,'read')" ng-show="msg.isRead==true" >Make As UnRead</a>

                                </span>-->
                            </p>
                        </div>
                    </div>

                </li>

            </ul>
            <ul  class="timeline" >
                <li>
                    <i class="fa fa-clock-o bg-gray"></i>
                </li>
            </ul>
        </ul>
    </div><!-- /.col -->
    </div>

</section><!-- /.content -->



<!--Add New-->
<script type="text/ng-template" id="dialog1.tmpl.html"><md-dialog aria-label="New Message"  ng-cloak style="max-width: 50%;">
<form >

    <md-toolbar>
        <div class="md-toolbar-tools">
            <h2>New Message</h2>
            <!-- <span flex></span>-->

        </div>
    </md-toolbar>

    <md-dialog-content>
        <div class="md-dialog-content">




            <form class="form-horizontal" role="form">


                <ul class="timeline" >
                    <li class="time-label">
                    <span class="bg-red-gradient">
                        To: <!--<input class="form-control" ng-model="message.title" type="text">-->
                         <angucomplete id="ex1"
                                       placeholder="Search People"
                                       pause="100"
                                       selectedobject="selectedPerson"
                                       localdata="peopleArray"
                                       searchfields="firstName,lastName"
                                       titlefield="firstName,lastName"
                                       minlength="1"
                                       inputclass="form-control form-control-small" autocomplete="off"/>
                    </span>
                    </li>
                    <li>
                        <i class="fa fa-suitcase bg-blue-gradient text-white"></i>
                        <div class="timeline-item">
                          <!--  <span class="time text-bold">  <input class="form-control" ng-model="message.title" type="text"></span>
                            <h3 class="timeline-header"><a href="http://kmitsolutions.com" target="_blank">from &nbsp;  <input class="form-control" ng-model="message.title" type="text"></a></h3>
                          -->  <div class="timeline-body">
                                <textarea name="Text1" cols="40" rows="8" data-ng-model="message.content"></textarea>
                              <!--  <ul>
                                    <li>  <input class="form-control" ng-model="message.title" type="text"></li>

                                </ul>
-->
                            </div>

                        </div>
                    </li>
                </ul>







               <!-- <table  class="ex2" >


                    <tr>
                        <td>
                            <div class="row">
                                <label class="col-lg-4 control-label">title:</label>
                                <div class="col-lg-8">
                                    <input class="form-control" ng-model="book.title" type="text">
                                </div>
                            </div>
                        </td>

                        <td>
                            <div class="row">
                                <label class="col-lg-4 control-label">author:</label>
                                <div class="col-lg-8">
                                    &lt;!&ndash;<input class="form-control" ng-model="book.author" type="text">&ndash;&gt;
                                    <input class="form-control" ng-model="book.title" type="text">
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="row">
                                <label class="col-lg-4 control-label">description:</label>
                                <div class="col-lg-8">
                                    <input class="form-control" ng-model="book.description" type="text">
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="row">
                                <label class="col-lg-4 control-label">category:</label>
                                <div class="col-lg-8">
                                    &lt;!&ndash;   <input class="form-control"  ng-model="book.category" type="text">&ndash;&gt;
                                    <input class="form-control" ng-model="book.title" type="text">
                                </div>
                            </div>
                        </td>

                    </tr>
                    <tr>
                        <td>
                            <div class="row">
                                <label class="col-lg-4 control-label">year:</label>
                                <div class="col-lg-8">
                                    &lt;!&ndash;
                                                            <input class="form-control" ng-model="book.year" type="text">
                                    &ndash;&gt;
                                    <input class="form-control" ng-model="book.title" type="text">
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="row">
                                <label class="col-lg-4 control-label">language:</label>
                                <div class="col-lg-8">
                                    &lt;!&ndash;  <input class="form-control" ng-model="book.language" type="text">&ndash;&gt;
                                    <input class="form-control" ng-model="book.title" type="text">
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>-->


            </form>
        </div>
    </md-dialog-content>

    <md-dialog-actions layout="row">
        <!--      <md-button href="http://en.wikipedia.org/wiki/Mango" target="_blank" md-autofocus>
                  More on Wikipedia
              </md-button>
              <span flex></span>-->
        <md-button ng-click="CreateNewMSG()">
            Save
        </md-button>
        <md-button ng-click="answer('useful')">
            Close
        </md-button>
    </md-dialog-actions>
    <!-- <label>
         book= {{book | json}}
     </label>-->

</form>
</md-dialog>
</script>



<!--Send To Admin -->
<script type="text/ng-template" id="dialog2.tmpl.html"><md-dialog aria-label="Send Admin Message"  ng-cloak style="max-width: 50%;">
<form >

    <md-toolbar>
        <div class="md-toolbar-tools">
            <h2>New Message To Secretary</h2>
            <!-- <span flex></span>-->

        </div>
    </md-toolbar>

    <md-dialog-content>
        <div class="md-dialog-content">




            <form class="form-horizontal" role="form">


                <ul class="timeline" >
                    <li class="time-label">
                    <span class="bg-red-gradient">
                        To:<!-- <input class="form-control" ng-model="message.title" type="text">-->
                         <label> Secretary</label>
                    </span>
                    </li>
                    <li>
                        <i class="fa fa-suitcase bg-blue-gradient text-white"></i>
                        <div class="timeline-item">
                            <!--  <span class="time text-bold">  <input class="form-control" ng-model="message.title" type="text"></span>
                              <h3 class="timeline-header"><a href="http://kmitsolutions.com" target="_blank">from &nbsp;  <input class="form-control" ng-model="message.title" type="text"></a></h3>
                            -->  <div class="timeline-body">
                            <textarea name="Text1" cols="40" rows="8" data-ng-model="message.content"></textarea>
                            <!--  <ul>
                                  <li>  <input class="form-control" ng-model="message.title" type="text"></li>

                              </ul>
-->
                        </div>

                        </div>
                    </li>
                </ul>


            </form>
        </div>
    </md-dialog-content>

    <md-dialog-actions layout="row">
        <!--      <md-button href="http://en.wikipedia.org/wiki/Mango" target="_blank" md-autofocus>
                  More on Wikipedia
              </md-button>
              <span flex></span>-->
        <md-button   class="btn btn-primary" ng-click="CreateNewToAdminMSG()">
            Send Message To Secretary
        </md-button>
        <md-button ng-click="answer('useful')">
            Close
        </md-button>
    </md-dialog-actions>
    <!-- <label>
         book= {{book | json}}
     </label>-->

</form>
</md-dialog>
</script>